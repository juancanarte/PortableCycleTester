
{% load static %}
<!-- base.html -->
<head>
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/code.jquery.com_jquery-3.7.0.min.js' %}"></script>

<script>

    var intervalId1 = null;
    var intervalId2 = null;

    function startSensorData() {
        intervalId1 = setInterval(getSensorData, 5000);
        intervalId2 = setInterval(sendToSensor, 100)
    }

    function getSensorData() {
        $.ajax({
            url: '/get_sensor_data/',
            success: function (data) {
                $('#sensor-data').text('Sensor Data: ' + data.data);
            }
        });
    }

    function sendToSensor() {
            $.ajax({
                url: '/send_to_sensor/',
                success: function (values) {
                    $('#send-data').text('Sended Data: ' + values.values);
                }
            });
        }
    function stopSensorData() {
        clearInterval(intervalId1);
        clearInterval(intervalId2);
        $('#sensor-data').text('Sensor Data: ' + '0');
        $('#send-data').text('Sensor Data: ' + '0');
    }
</script>


</head>

<body>
    <h1>Real-Time Sensor Data</h1>

    <form>
        <label for="number1">Number 1:</label>
        <input type="number" id="number1" name="number1">

        <br>

        <label for="number2">Number 2:</label>
        <input type="number" id="number2" name="number2">
    </form>

    <button onclick="startSensorData()">Start Sensor Data</button>

    <button onclick="stopSensorData()">Detener</button>

    <div id="sensor-data"></div>
    <div id="send-data"></div>

</body>
</html>